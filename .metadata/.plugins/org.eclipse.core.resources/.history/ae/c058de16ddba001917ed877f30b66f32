package org.hackathon.cardless.orchestrator.service;

import org.apache.log4j.Logger;
import org.hackathon.cardless.orchestrator.api.OrchestratorEndpoints;
import org.hackathon.cardless.orchestrator.model.Accounts;
import org.hackathon.cardless.orchestrator.model.CustomerAccounts;
import org.hackathon.cardless.orchestrator.model.TransactionReq;

public class OrchestratorService {
	final static Logger logger = Logger.getLogger(OrchestratorService.class);
	
	public boolean validateCCTxReq(TransactionReq txReq, CustomerAccounts custAccs) {
		logger.info("Inside validateCCTxReq method");
		Accounts[] accs = custAccs.getAccounts();
		
		for(int i=0;i<accs.length;i++) {
			if(accs[i].getSortCode() == txReq.getSortCode() && accs[i].getAccountNumber() == txReq.getAccountNumber()) {
				logger.info("SortCode-AccountNumber match found");
				if(accs[i].getBalance() >= txReq.getAmount()) {
					logger.info("Withdrawal amount is within account limits");				
					return true;
				}else {
					logger.info("Withdrawal amount is not within account limits");	
				}
			}
		}
	}
	
	public static void main(String args[]){  
		String s="23.66";  
		double d=Double.parseDouble("23.66");  
		System.out.println(d);  
		}
}
